---
title: "TieDIE: Tied Diffusion for Subnetwork Discovery"
output:
  workflowr::wflow_html:
    toc: true
    toc_float: true
    theme: cosmo
    highlight: textmate
editor_options:
  chunk_output_type: console
---

TieDIE was first featured in the 2013 Nature paper "Comprehensive molecular characterization of clear cell renal cell carcinoma". In this TCGA (The Cancer Genome Atlas) network publication, a TieDIE analysis was used to connnect frequently mutated genes involving the SWI/SNF chromatin remodelling complex to a diverse set of gene expression changes characteristic of tumor development and progression. The TieDIE manuscript was not yet published at the time of the Nature publication and so is cited by name and author only. The TieDIE network solution is shown in figure 4 of the main text, which can be found at this link: http://www.nature.com/nature/journal/v499/n7456/full/nature12222.html .

# Run TieDIE
```{r}
for (type in c("cnv", "exprs", "methy", "prot", "phos")) {
    for (name in c("kirc", "hnsc", "lusc", "luad", "paad")) {
      dir.create(paste("code/TieDIE-devel/examples/",
            name, "/",sep = ""),showWarnings = F)
        file.copy(paste("output/",type,"/", name, "/",type,".txt", sep = ""), paste("code/TieDIE-devel/examples/",
            name, "/",type,".txt", sep = ""), overwrite = TRUE)
                file.copy(paste("output/pathways/", name,".sif", sep = ""), paste("code/TieDIE-devel/examples/",
            name, "/pathway.sif", sep = ""), overwrite = TRUE)
    }
}
```

```{r}
for (name in c("kirc", "hnsc", "lusc", "luad", "paad")) {
    # Define the directory path
    directory_path <- paste("code/TieDIE-devel/examples/", name, "/", sep = "")
    # Get a list of all files in the directory
    file_list <- list.files(directory_path, full.names = TRUE, pattern = "*.txt")
    # Get file information
    file_info <- file.info(file_list)
    # Filter files that are more than 0 bytes
    non_empty_files <- rownames(file_info[file_info$size > 0, ])
    # Extract just the file names
    file_names <- basename(non_empty_files)
    # Combine file names into a single string separated by spaces
    file_names_string <- paste(file_names, collapse = " ")

    # Print the result
    print(file_names_string)
    sink(paste("code/TieDIE-devel/examples/", name, "/Makefile", sep = ""))
    cat("result:\n")
    cat("\t../../bin/tiedie ")
    cat(file_names_string)
    cat(" -n pathway.sif")
    sink()
}
```
